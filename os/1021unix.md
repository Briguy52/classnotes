## Q: How does Unix create processes?
1. Fork (new child process with one thread, address space is an exact copy from parent)
2. Exec (init this)

## Fork

> Problem with exact copy of address space- how does child know it's the child?

Child is distinguished by *one variable* (return value of 0 for child, return value of processID for parent)

## Q: How can we efficiently create the copy address space?

point to same memory, only **copy-on-write** (when diverge)

## Q: Why copy the parent's address space?

> Inherit some state, want to make copy of ongoing process (e.g. make new tab in Terminal)

## Shells

Shells are normal programs (look like part of the OS)

How would you write one?
* while()
* ask for input (cin)
* first word of input is command
* fork a copy of the current process
* if child -> redirect output to a file if requested, exec new program
* if parent -> wait for child to finish OR can run child in background and ask for another command (e.g. add `&` to end of command)
